<div class="format-event__component">
  <div class="event-form__component" [formGroup]="eventForm">
    <span class="format-event__text">Выберите формат мероприятия:</span>
    <ng-container *ngIf="events$ | async as events">
      <input
        style="display: none"
        type="radio"
        name="event"
        id="Фуршет"
        value="{{ events[0].name }}"
        [formControl]="eventForm.controls.event"
      />
      <label class="format-event__button button-disable" for="Фуршет"
        ><span class="format-event__button-text button-disable__text">{{
          events[0].name
        }}</span></label
      >
      <input
        style="display: none"
        type="radio"
        name="event"
        id="Гастрономический ужин"
        value="{{ events[1].name }}"
        [formControl]="eventForm.controls.event"
      />
      <label
        class="format-event__button button-disable"
        for="Гастрономический ужин"
        ><span class="format-event__button-text button-disable__text">{{
          events[1].name
        }}</span></label
      >
      <input
        style="display: none"
        type="radio"
        name="event"
        id="Банкет"
        value="{{ events[2].name }}"
        [formControl]="eventForm.controls.event"
      />
      <label class="format-event__button button-disable" for="Банкет"
        ><span class="format-event__button-text button-disable__text">{{
          events[2].name
        }}</span></label
      >
    </ng-container>
    <span *ngIf="isShowTextDownForm" class="text-not-valid__form"
      >Обязательное поле</span
    >
    <div
      [ngClass]="
        isShowTextDownForm
          ? 'page-form__input not-valid-form'
          : 'page-form__input'
      "
    >
      <span class="count-people__text-form"
        >Количество гостей: {{ eventForm.get("countPeoples")?.value }}
      </span>
    </div>
    <input
      type="range"
      min="10"
      max="100"
      step="1"
      id="peopleRange"
      placeholder="Количество гостей:"
      class="count-people__input"
      [formControl]="eventForm.controls.countPeoples"
    />
    <span class="text-down__range">От 10 человек</span>
    <span class="text-down__range" style="margin-left: 458px"
      >До 100 человек</span
    >
    <input
      style="margin-top: 19px; padding-left: 15px; padding-right: 15px"
      placeholder="Дата мероприятия:"
      type="date"
      [formControl]="eventForm.controls.dateEvent"
      [ngClass]="
        isShowTextDownForm
          ? 'page-form__input not-valid-form'
          : 'page-form__input'
      "
    />
    <span *ngIf="isShowTextDownForm" class="text-not-valid__form"
      >Обязательное поле</span
    >
    <div style="margin-top: 19px" class="page-form__input">
      <input
        placeholder="Дополнительные услуги:"
        class="service__input"
        type="text"
      />
      <ng-container *ngIf="service$ | async as services">
        <select
          class="service-select"
          [value]="services[4].price"
          [formControl]="eventForm.controls.additionalService"
          [ngModel]="eventForm.controls.additionalService.value"
        >
          <option value="{{ services[4].price }}">
            {{ services[4].name }}
          </option>
          <option value="{{ services[3].price }}">
            {{ services[3].name }}
          </option>
          <option value="{{ services[0].price }}">
            {{ services[0].name }}
          </option>
          <option value="{{ services[1].price }}">
            {{ services[1].name }}
          </option>
          <option value="{{ services[2].price }}">
            {{ services[2].name }}
          </option>
        </select>
      </ng-container>
      <!--    Оставляю стиль этой формы на потом, пока займусь более важными делами-->
    </div>
    <input
      style="margin-top: 19px"
      class="page-form__input"
      type="text"
      placeholder="Напишите пожелания по меню"
      [formControl]="eventForm.controls.desiredMenu"
    />
    <div class="application__component">
      <button class="button-continue">
        <span class="button-continue__text" (click)="isValidForm()"
          >Продолжить</span
        >
      </button>
      <span class="text-processing-condition">
        Нажимая кнопку вы соглашаетесь с
        <span class="text-processing-condition__politic-conditions"
          >условиями обработки персональных данных </span
        >и
        <span class="text-processing-condition__politic-conditions">
          политикой конфиденциальности</span
        >
      </span>
    </div>
    <app-info-event
      [priceEvent]="priceEvent"
      [priceOnePerson]="event?.priceOnePerson"
      [formatEvent]="eventForm.controls.event.value"
      [countPerson]="eventForm.controls.countPeoples.value"
      [dateEvent]="eventForm.controls.dateEvent.value"
    >
    </app-info-event>
  </div>
</div>
